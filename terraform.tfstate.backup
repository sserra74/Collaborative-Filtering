{
  "version": 4,
  "terraform_version": "0.12.26",
  "serial": 389,
  "lineage": "6c85cf5f-b3f4-b371-de9b-d5ba1b9be4ee",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "http",
      "name": "myip",
      "provider": "provider.http",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "body": "62.11.146.235\n",
            "id": "2020-07-09 09:17:31.072085017 +0000 UTC",
            "request_headers": null,
            "response_headers": {
              "Access-Control-Allow-Methods": "GET",
              "Access-Control-Allow-Origin": "*",
              "Content-Length": "14",
              "Content-Type": "text/plain; charset=UTF-8",
              "Date": "Thu, 09 Jul 2020 09:17:31 GMT",
              "Server": "nginx",
              "X-Rtfm": "Learn about this site at http://bit.ly/icanhazip-faq and do not abuse the service.",
              "X-Security": "This site DOES NOT distribute malware. Get the facts. https://goo.gl/1FhVpg"
            },
            "url": "http://ipv4.icanhazip.com"
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_athena_database",
      "name": "hoge",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "bucketbigdataemr",
            "encryption_configuration": [],
            "force_destroy": false,
            "id": "users",
            "name": "users"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_athena_named_query",
      "name": "five",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "database": "users",
            "description": "",
            "id": "f29e0e1a-a7ea-4e2d-8340-b39c849c6100",
            "name": "query_5",
            "query": "SELECT title FROM movies_table AS M JOIN ratings_table AS R ON M.movie_id=R.movie_id WHERE genres LIKE '%Fantasy%' AND genres LIKE '%Adventure%' AND rating=5.0",
            "workgroup": "primary"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_glue_catalog_table.table_movies",
            "aws_glue_catalog_table.table_ratings",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_athena_named_query",
      "name": "four",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "database": "users",
            "description": "",
            "id": "845f6c10-9e25-446c-9cc8-72823b63fc41",
            "name": "query_4",
            "query": "SELECT DISTINCT title FROM movies_table AS M JOIN ratings_table AS R ON M.movie_id=R.movie_id WHERE rating=5.0",
            "workgroup": "primary"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_glue_catalog_table.table_movies",
            "aws_glue_catalog_table.table_ratings",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_athena_named_query",
      "name": "one",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "database": "users",
            "description": "",
            "id": "8ab61f69-1d6c-4557-a36e-65b4f7841574",
            "name": "query_1",
            "query": "SELECT title FROM movies_table WHERE genres LIKE '%Mystery%'",
            "workgroup": "primary"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_glue_catalog_table.table_movies",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_athena_named_query",
      "name": "seven",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "database": "users",
            "description": "",
            "id": "ae11ef03-49cd-4235-9563-74123e9f32d0",
            "name": "query_7",
            "query": "SELECT DISTINCT title, rating FROM movies_table AS M JOIN ratings_table AS R ON M.movie_id=R.movie_id ORDER BY rating DESC",
            "workgroup": "primary"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_glue_catalog_table.table_movies",
            "aws_glue_catalog_table.table_ratings",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_athena_named_query",
      "name": "six",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "database": "users",
            "description": "",
            "id": "332928d9-c90f-4fbb-9d55-5b8b74922d38",
            "name": "query_6",
            "query": "SELECT title FROM movies_table AS M JOIN ratings_table AS R ON M.movie_id=R.movie_id WHERE rating=1 OR rating=2 AND title LIKE '%(1995)%'",
            "workgroup": "primary"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_glue_catalog_table.table_movies",
            "aws_glue_catalog_table.table_ratings",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_athena_named_query",
      "name": "three",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "database": "users",
            "description": "",
            "id": "d7e44560-4354-409c-ac09-6bcb3f5d77f3",
            "name": "query_3",
            "query": "SELECT title FROM movies_table WHERE title LIKE '%(2016)%' OR title LIKE '%(2018)%'",
            "workgroup": "primary"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_glue_catalog_table.table_movies",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_athena_named_query",
      "name": "two",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "database": "users",
            "description": "",
            "id": "ae0e01e1-266b-4b8c-a497-731c07a3506c",
            "name": "query_2",
            "query": "SELECT title FROM movies_table WHERE title LIKE '%(2018)%'",
            "workgroup": "primary"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_glue_catalog_table.table_movies",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_default_subnet",
      "name": "default",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:015249404455:subnet/subnet-ab2dedcd",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1b",
            "availability_zone_id": "use1-az1",
            "cidr_block": "172.31.0.0/20",
            "id": "subnet-ab2dedcd",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "015249404455",
            "tags": {
              "Name": "Default subnet"
            },
            "timeouts": null,
            "vpc_id": "vpc-ebcbd791"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_default_vpc",
      "name": "default",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:015249404455:vpc/vpc-ebcbd791",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "172.31.0.0/16",
            "default_network_acl_id": "acl-ae0e48d3",
            "default_route_table_id": "rtb-ed099293",
            "default_security_group_id": "sg-e74addc5",
            "dhcp_options_id": "dopt-af06bfd5",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-ebcbd791",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-ed099293",
            "owner_id": "015249404455",
            "tags": {
              "Name": "Default VPC"
            }
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_emr_cluster",
      "name": "emr-spark-cluster",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_info": null,
            "applications": [
              "Hadoop",
              "Spark"
            ],
            "arn": "arn:aws:elasticmapreduce:us-east-1:015249404455:cluster/j-315X8UU0TYCTO",
            "autoscaling_role": "",
            "bootstrap_action": [],
            "cluster_state": "RUNNING",
            "configurations": null,
            "configurations_json": "[{\"Classification\":\"spark\",\"Properties\":{\"maximizeResourceAllocation\":\"true\"}}]",
            "core_instance_count": 7,
            "core_instance_group": [
              {
                "autoscaling_policy": "",
                "bid_price": "",
                "ebs_config": [
                  {
                    "iops": 0,
                    "size": 32,
                    "type": "gp2",
                    "volumes_per_instance": 1
                  }
                ],
                "id": "ig-1VRPGXY5VSFIA",
                "instance_count": 7,
                "instance_type": "c5.xlarge",
                "name": ""
              }
            ],
            "core_instance_type": "c5.xlarge",
            "custom_ami_id": null,
            "ebs_root_volume_size": 0,
            "ec2_attributes": [
              {
                "additional_master_security_groups": "",
                "additional_slave_security_groups": "",
                "emr_managed_master_security_group": "sg-05b59c9bbfad70e8e",
                "emr_managed_slave_security_group": "sg-0c358a3796384d20d",
                "instance_profile": "arn:aws:iam::015249404455:instance-profile/spark_cluster_emr_profile",
                "key_name": "emr-key",
                "service_access_security_group": "",
                "subnet_id": "subnet-ab2dedcd"
              }
            ],
            "id": "j-315X8UU0TYCTO",
            "instance_group": [
              {
                "autoscaling_policy": "",
                "bid_price": "",
                "ebs_config": [
                  {
                    "iops": 0,
                    "size": 32,
                    "type": "gp2",
                    "volumes_per_instance": 1
                  }
                ],
                "id": "ig-1VRPGXY5VSFIA",
                "instance_count": 7,
                "instance_role": "CORE",
                "instance_type": "c5.xlarge",
                "name": ""
              },
              {
                "autoscaling_policy": "",
                "bid_price": "",
                "ebs_config": [
                  {
                    "iops": 0,
                    "size": 32,
                    "type": "gp2",
                    "volumes_per_instance": 1
                  }
                ],
                "id": "ig-ATC8HMTD5F8A",
                "instance_count": 1,
                "instance_role": "MASTER",
                "instance_type": "c5.xlarge",
                "name": ""
              }
            ],
            "keep_job_flow_alive_when_no_steps": true,
            "kerberos_attributes": [],
            "log_uri": "s3n://bucketbigdataemr/",
            "master_instance_group": [
              {
                "bid_price": "",
                "ebs_config": [
                  {
                    "iops": 0,
                    "size": 32,
                    "type": "gp2",
                    "volumes_per_instance": 1
                  }
                ],
                "id": "ig-ATC8HMTD5F8A",
                "instance_count": 1,
                "instance_type": "c5.xlarge",
                "name": ""
              }
            ],
            "master_instance_type": "c5.xlarge",
            "master_public_dns": "ec2-18-213-110-129.compute-1.amazonaws.com",
            "name": "EMR-cluster-example",
            "release_label": "emr-5.13.0",
            "scale_down_behavior": "TERMINATE_AT_TASK_COMPLETION",
            "security_configuration": "",
            "service_role": "arn:aws:iam::015249404455:role/spark_cluster_emr_service_role",
            "step": [
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "mkdir",
                      "/home/hadoop/datasetS3/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Create directory."
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "s3",
                      "cp",
                      "s3://bucketbigdataemr/files/main.py",
                      "/home/hadoop/datasetS3/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Copy main.py script from s3"
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "s3",
                      "cp",
                      "s3://bucketbigdataemr/files/methods.py",
                      "/home/hadoop/datasetS3"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Copy methods.py script from s3"
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "s3",
                      "cp",
                      "s3://bucketbigdataemr/files/baseline.py",
                      "/home/hadoop/datasetS3/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Copy baseline.py script from s3"
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "spark-submit",
                      "--deploy-mode",
                      "client",
                      "--master",
                      "yarn",
                      "--num-executors",
                      "7",
                      "--conf",
                      "spark.dynamicAllocation.enabled=false",
                      "--py-files",
                      "s3://bucketbigdataemr/files/zippo.zip",
                      "/home/hadoop/datasetS3/main.py",
                      "28"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Run Collaborative-Filtering."
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "spark-submit",
                      "--deploy-mode",
                      "client",
                      "--master",
                      "yarn",
                      "--num-executors",
                      "7",
                      "--conf",
                      "spark.dynamicAllocation.enabled=false",
                      "s3://bucketbigdataemr/files/baseline.py",
                      "28"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Run baseline."
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "s3",
                      "cp",
                      "s3://bucketbigdataemr/files/movies.csv",
                      "s3://bucketbigdataemr/files/movie/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Copy csv file from s3 to movie folder."
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "s3",
                      "cp",
                      "s3://bucketbigdataemr/files/ratings.csv",
                      "s3://bucketbigdataemr/files/ratings/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Copy csv file from s3 to ratings folder."
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "athena",
                      "start-query-execution",
                      "--query-string",
                      "SELECT title FROM movies_table WHERE genres LIKE '%Mystery%'",
                      "--query-execution-context",
                      "Database=users",
                      "--result-configuration",
                      "OutputLocation=s3://bucketbigdataemr/files/movie/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Execute query"
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "athena",
                      "start-query-execution",
                      "--query-string",
                      "SELECT title FROM movies_table WHERE title LIKE '%(2018)%'",
                      "--query-execution-context",
                      "Database=users",
                      "--result-configuration",
                      "OutputLocation=s3://bucketbigdataemr/files/movie/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Execute query"
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "athena",
                      "start-query-execution",
                      "--query-string",
                      "SELECT title FROM movies_table WHERE title LIKE '%(2016)%' OR title LIKE '%(2018)%'",
                      "--query-execution-context",
                      "Database=users",
                      "--result-configuration",
                      "OutputLocation=s3://bucketbigdataemr/files/movie/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Execute query"
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "athena",
                      "start-query-execution",
                      "--query-string",
                      "SELECT DISTINCT title FROM movies_table AS M JOIN ratings_table AS R ON M.movie_id=R.movie_id WHERE rating=5.0",
                      "--query-execution-context",
                      "Database=users",
                      "--result-configuration",
                      "OutputLocation=s3://bucketbigdataemr/files/movie/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Execute query"
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "athena",
                      "start-query-execution",
                      "--query-string",
                      "SELECT title FROM movies_table AS M JOIN ratings_table AS R ON M.movie_id=R.movie_id WHERE genres LIKE '%Fantasy%' AND genres LIKE '%Adventure%' AND rating=5.0",
                      "--query-execution-context",
                      "Database=users",
                      "--result-configuration",
                      "OutputLocation=s3://bucketbigdataemr/files/movie/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Execute query"
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "athena",
                      "start-query-execution",
                      "--query-string",
                      "SELECT title FROM movies_table AS M JOIN ratings_table AS R ON M.movie_id=R.movie_id WHERE rating=1 OR rating=2 AND title LIKE '%(1995)%'",
                      "--query-execution-context",
                      "Database=users",
                      "--result-configuration",
                      "OutputLocation=s3://bucketbigdataemr/files/movie/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Execute query"
              },
              {
                "action_on_failure": "CONTINUE",
                "hadoop_jar_step": [
                  {
                    "args": [
                      "aws",
                      "athena",
                      "start-query-execution",
                      "--query-string",
                      "SELECT DISTINCT title, rating FROM movies_table AS M JOIN ratings_table AS R ON M.movie_id=R.movie_id ORDER BY rating DESC",
                      "--query-execution-context",
                      "Database=users",
                      "--result-configuration",
                      "OutputLocation=s3://bucketbigdataemr/files/movie/"
                    ],
                    "jar": "command-runner.jar",
                    "main_class": "",
                    "properties": null
                  }
                ],
                "name": "Execute query"
              }
            ],
            "step_concurrency_level": 1,
            "tags": {
              "name": "EMR-cluster",
              "role": "EMR_DefaultRole"
            },
            "termination_protection": false,
            "visible_to_all_users": true
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_athena_named_query.five",
            "aws_athena_named_query.four",
            "aws_athena_named_query.one",
            "aws_athena_named_query.seven",
            "aws_athena_named_query.six",
            "aws_athena_named_query.three",
            "aws_athena_named_query.two",
            "aws_default_subnet.default",
            "aws_default_vpc.default",
            "aws_glue_catalog_table.table_movies",
            "aws_glue_catalog_table.table_ratings",
            "aws_iam_instance_profile.emr_profile",
            "aws_iam_role.spark_cluster_iam_emr_profile_role",
            "aws_iam_role.spark_cluster_iam_emr_service_role",
            "aws_key_pair.emr_key_pair",
            "aws_s3_bucket.bucketbigdataemr",
            "aws_security_group.master_security_group",
            "aws_security_group.slave_security_group"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_glue_catalog_table",
      "name": "table_movies",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog_id": "015249404455",
            "database_name": "users",
            "description": "",
            "id": "015249404455:users:movies_table",
            "name": "movies_table",
            "owner": "owner",
            "parameters": null,
            "partition_keys": [],
            "retention": 0,
            "storage_descriptor": [
              {
                "bucket_columns": null,
                "columns": [
                  {
                    "comment": "",
                    "name": "movie_id",
                    "type": "int"
                  },
                  {
                    "comment": "",
                    "name": "title",
                    "type": "string"
                  },
                  {
                    "comment": "",
                    "name": "genres",
                    "type": "string"
                  }
                ],
                "compressed": false,
                "input_format": "org.apache.hadoop.mapred.TextInputFormat",
                "location": "s3://bucketbigdataemr/files/movie",
                "number_of_buckets": -1,
                "output_format": "org.apache.hadoop.mapred.TextInputFormat",
                "parameters": null,
                "ser_de_info": [
                  {
                    "name": "movies",
                    "parameters": {
                      "field.delim": ",",
                      "skip.header.line.count": "1"
                    },
                    "serialization_library": "org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe"
                  }
                ],
                "skewed_info": [],
                "sort_columns": [],
                "stored_as_sub_directories": false
              }
            ],
            "table_type": "EXTERNAL_TABLE",
            "view_expanded_text": "",
            "view_original_text": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_glue_catalog_table",
      "name": "table_ratings",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "catalog_id": "015249404455",
            "database_name": "users",
            "description": "",
            "id": "015249404455:users:ratings_table",
            "name": "ratings_table",
            "owner": "owner",
            "parameters": null,
            "partition_keys": [],
            "retention": 0,
            "storage_descriptor": [
              {
                "bucket_columns": null,
                "columns": [
                  {
                    "comment": "",
                    "name": "user_id",
                    "type": "int"
                  },
                  {
                    "comment": "",
                    "name": "movie_id",
                    "type": "int"
                  },
                  {
                    "comment": "",
                    "name": "rating",
                    "type": "float"
                  },
                  {
                    "comment": "",
                    "name": "timestamp",
                    "type": "int"
                  }
                ],
                "compressed": false,
                "input_format": "org.apache.hadoop.mapred.TextInputFormat",
                "location": "s3://bucketbigdataemr/files/ratings",
                "number_of_buckets": -1,
                "output_format": "org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat",
                "parameters": null,
                "ser_de_info": [
                  {
                    "name": "ratings",
                    "parameters": {
                      "field.delim": ",",
                      "skip.header.line.count": "1"
                    },
                    "serialization_library": "org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe"
                  }
                ],
                "skewed_info": [],
                "sort_columns": [],
                "stored_as_sub_directories": false
              }
            ],
            "table_type": "EXTERNAL_TABLE",
            "view_expanded_text": "",
            "view_original_text": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_glue_crawler",
      "name": "product_crawler",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:glue:us-east-1:015249404455:crawler/analytics-product-crawler",
            "catalog_target": [],
            "classifiers": null,
            "configuration": "{\"Version\":1.0,\"CrawlerOutput\":{\"Partitions\":{\"AddOrUpdateBehavior\":\"InheritFromTable\"},\"Tables\":{\"AddOrUpdateBehavior\":\"MergeNewColumns\"}}}",
            "database_name": "users",
            "description": "",
            "dynamodb_target": [],
            "id": "analytics-product-crawler",
            "jdbc_target": [],
            "name": "analytics-product-crawler",
            "role": "analytics_glue_crawler_role",
            "s3_target": [
              {
                "exclusions": null,
                "path": "s3://bucketbigdataemr/files"
              }
            ],
            "schedule": "cron(0 0 * * ? *)",
            "schema_change_policy": [
              {
                "delete_behavior": "DELETE_FROM_DATABASE",
                "update_behavior": "UPDATE_IN_DATABASE"
              }
            ],
            "security_configuration": "",
            "table_prefix": "",
            "tags": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_athena_database.hoge",
            "aws_iam_role.glue_crawler_role",
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "emr_profile",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::015249404455:instance-profile/spark_cluster_emr_profile",
            "create_date": "2020-07-09T09:17:44Z",
            "id": "spark_cluster_emr_profile",
            "name": "spark_cluster_emr_profile",
            "name_prefix": null,
            "path": "/",
            "role": "spark_cluster_emr_profile_role",
            "roles": [],
            "unique_id": "AIPAQHDHPOITXITNQWW23"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.spark_cluster_iam_emr_profile_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "glue_crawler_role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::015249404455:role/analytics_glue_crawler_role",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"glue.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-07-09T09:17:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "analytics_glue_crawler_role",
            "max_session_duration": 3600,
            "name": "analytics_glue_crawler_role",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "unique_id": "AROAQHDHPOIT4USXTCGCF"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "spark_cluster_iam_emr_profile_role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::015249404455:role/spark_cluster_emr_profile_role",
            "assume_role_policy": "{\"Version\":\"2008-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"},{\"Sid\":\"Stmt1547414166585\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"athena.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-07-09T09:17:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "spark_cluster_emr_profile_role",
            "max_session_duration": 3600,
            "name": "spark_cluster_emr_profile_role",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "unique_id": "AROAQHDHPOITRIIG32UQY"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "spark_cluster_iam_emr_service_role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::015249404455:role/spark_cluster_emr_service_role",
            "assume_role_policy": "{\"Version\":\"2008-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"elasticmapreduce.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"},{\"Sid\":\"Stmt1547414166585\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"athena.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-07-09T09:17:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "spark_cluster_emr_service_role",
            "max_session_duration": 3600,
            "name": "spark_cluster_emr_service_role",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "unique_id": "AROAQHDHPOIT3IWSQLTXU"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "glue_crawler_role_policy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "analytics_glue_crawler_role:analytics_glue_crawler_role_policy",
            "name": "analytics_glue_crawler_role_policy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"glue:*\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:GetBucketLocation\",\n        \"s3:ListBucket\",\n        \"s3:GetBucketAcl\",\n        \"s3:GetObject\",\n        \"s3:PutObject\",\n        \"s3:DeleteObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::analytics-product-data\",\n        \"arn:aws:s3:::analytics-product-data/*\"\n      ]\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:CreateLogGroup\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:*:*:/aws-glue/*\"\n      ]\n    }\n  ]\n}\n",
            "role": "analytics_glue_crawler_role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.glue_crawler_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "emr-profile-policy-attach",
      "each": "map",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": "arn:aws:iam::aws:policy/AmazonAthenaFullAccess",
          "schema_version": 0,
          "attributes": {
            "id": "spark_cluster_emr_profile_role-20200709091744899600000004",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonAthenaFullAccess",
            "role": "spark_cluster_emr_profile_role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.spark_cluster_iam_emr_profile_role"
          ]
        },
        {
          "index_key": "arn:aws:iam::aws:policy/service-role/AmazonElasticMapReduceforEC2Role",
          "schema_version": 0,
          "attributes": {
            "id": "spark_cluster_emr_profile_role-20200709091744891100000003",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonElasticMapReduceforEC2Role",
            "role": "spark_cluster_emr_profile_role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.spark_cluster_iam_emr_profile_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "emr-service-policy-attach",
      "each": "map",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": "arn:aws:iam::aws:policy/AmazonAthenaFullAccess",
          "schema_version": 0,
          "attributes": {
            "id": "spark_cluster_emr_service_role-20200709091744830100000001",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonAthenaFullAccess",
            "role": "spark_cluster_emr_service_role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.spark_cluster_iam_emr_service_role"
          ]
        },
        {
          "index_key": "arn:aws:iam::aws:policy/service-role/AmazonElasticMapReduceRole",
          "schema_version": 0,
          "attributes": {
            "id": "spark_cluster_emr_service_role-20200709091744833500000002",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonElasticMapReduceRole",
            "role": "spark_cluster_emr_service_role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.spark_cluster_iam_emr_service_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_key_pair",
      "name": "emr_key_pair",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "fingerprint": "aa:c0:ca:bc:c7:7f:82:da:fe:e5:50:55:c3:ac:53:b7",
            "id": "emr-key",
            "key_name": "emr-key",
            "key_name_prefix": null,
            "key_pair_id": "key-0b50df2ffc1804e59",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDSsP1ar6Xq45h4UDMr4i6uFASmmPszK0ZUAapALSwarYInDr1ajY0D/ikJeaQz4VzXCbSbyfRnzzuQn8lup5nMifU1Fj1t3XNE2xGdpqW9/CmMPzuVgHbgwF08+Xe5D6PFtEBwPGIkbDm0FLPa94qfXKeR4V23BDP/OkAnee3nSwLhZDQ/nqxTJMNERLKpZD8knN4arKq4LZ2vZ21QF+w4q4HbhgXjMHE+qXPnv1yLyggCqG0FzZV2NzZNcQWvfVMTP+fxkUKIVDflsUArCVQHcF3CXZD5p4DAA0RmIXf5CbiXd99lpqCZHYq57XzpBFy5G16aIjzXw2ni3NTp5BkXZKbv+CQ0wgl3w0rxFPNXyp8OFBxcZ0JPtL8UNAL+wQOeRQtZWo6A9XQLKI9YEap2k8tXH37jBa2QegDYCG+uaFoMYJsidFz8G/WoOKWu994DHPmMFwfBTDmvxMzPV2GP8RrntbI88fhgXEZr7vz2vmENh/zqEbgbN9bmkmGOBCk= sergio@sergio-VirtualBox",
            "tags": null
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "bucketbigdataemr",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::bucketbigdataemr",
            "bucket": "bucketbigdataemr",
            "bucket_domain_name": "bucketbigdataemr.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "bucketbigdataemr.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "bucketbigdataemr",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [],
            "tags": null,
            "versioning": [
              {
                "enabled": true,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_object",
      "name": "bucketbigdataemr",
      "each": "map",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": "files/baseline.py",
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "bucketbigdataemr",
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "c3469c29384f7063bfca629156d085ed",
            "force_destroy": false,
            "id": "files/baseline.py",
            "key": "files/baseline.py",
            "kms_key_id": null,
            "metadata": null,
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "",
            "source": "./files/baseline.py",
            "storage_class": "STANDARD",
            "tags": null,
            "version_id": "Wra42cloB1J97uK9Lo0ovyIJ3mjZLlz4",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.bucketbigdataemr"
          ]
        },
        {
          "index_key": "files/main.py",
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "bucketbigdataemr",
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "ce8401cb890a721e519bab1b1b837329",
            "force_destroy": false,
            "id": "files/main.py",
            "key": "files/main.py",
            "kms_key_id": null,
            "metadata": null,
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "",
            "source": "./files/main.py",
            "storage_class": "STANDARD",
            "tags": null,
            "version_id": "eQJPwGRB1PHZXhLeUGxz1VvOoA1WFJpP",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.bucketbigdataemr"
          ]
        },
        {
          "index_key": "files/methods.py",
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "bucketbigdataemr",
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "4314f6253fee49715431ede6fbbaa40f",
            "force_destroy": false,
            "id": "files/methods.py",
            "key": "files/methods.py",
            "kms_key_id": null,
            "metadata": null,
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "",
            "source": "./files/methods.py",
            "storage_class": "STANDARD",
            "tags": null,
            "version_id": "JDX7rkFH3UxS4U9fS.IDyVga7sQAh4lV",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.bucketbigdataemr"
          ]
        },
        {
          "index_key": "files/movies-small.csv",
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "bucketbigdataemr",
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "ed94fab72b62442ef8150d9446e000d6",
            "force_destroy": false,
            "id": "files/movies-small.csv",
            "key": "files/movies-small.csv",
            "kms_key_id": null,
            "metadata": null,
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "",
            "source": "./files/movies-small.csv",
            "storage_class": "STANDARD",
            "tags": null,
            "version_id": "ASJVB4y7rOluSphrUx.lstG7y1v4FVNW",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.bucketbigdataemr"
          ]
        },
        {
          "index_key": "files/movies.csv",
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "bucketbigdataemr",
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "62cdf8cefa409cebe9b76df452c25fe9",
            "force_destroy": false,
            "id": "files/movies.csv",
            "key": "files/movies.csv",
            "kms_key_id": null,
            "metadata": null,
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "",
            "source": "./files/movies.csv",
            "storage_class": "STANDARD",
            "tags": null,
            "version_id": "Jvpgca04GWryGCPyo3NVFGmsaAkwrJ_g",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.bucketbigdataemr"
          ]
        },
        {
          "index_key": "files/ratings-small.csv",
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "bucketbigdataemr",
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "325a6f09399d1c45671f187505e1a100",
            "force_destroy": false,
            "id": "files/ratings-small.csv",
            "key": "files/ratings-small.csv",
            "kms_key_id": null,
            "metadata": null,
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "",
            "source": "./files/ratings-small.csv",
            "storage_class": "STANDARD",
            "tags": null,
            "version_id": "24H2kymcH9XoyQ2CBEMOFrSln5MhT8Hb",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.bucketbigdataemr"
          ]
        },
        {
          "index_key": "files/ratings.csv",
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "bucketbigdataemr",
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "9e336e1d50b709f2398ce5bc525b3109",
            "force_destroy": false,
            "id": "files/ratings.csv",
            "key": "files/ratings.csv",
            "kms_key_id": null,
            "metadata": null,
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "",
            "source": "./files/ratings.csv",
            "storage_class": "STANDARD",
            "tags": null,
            "version_id": "S1sUXQN3r_9qychY5m7FnDbA8BXRPKkm",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.bucketbigdataemr"
          ]
        },
        {
          "index_key": "files/zippo.zip",
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "bucketbigdataemr",
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "bc829b00c2c47d4e15c9a2580116452f",
            "force_destroy": false,
            "id": "files/zippo.zip",
            "key": "files/zippo.zip",
            "kms_key_id": null,
            "metadata": null,
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "",
            "source": "./files/zippo.zip",
            "storage_class": "STANDARD",
            "tags": null,
            "version_id": "_dy9nxFRYYIG.y2.UCK5JOd6Dam9cMph",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.bucketbigdataemr"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "master_security_group",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:015249404455:security-group/sg-05b59c9bbfad70e8e",
            "description": "Allow inbound traffic from VPN",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-05b59c9bbfad70e8e",
            "ingress": [
              {
                "cidr_blocks": [
                  "62.11.146.235/32"
                ],
                "description": "",
                "from_port": 18080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 18080
              },
              {
                "cidr_blocks": [
                  "62.11.146.235/32"
                ],
                "description": "",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [
                  "62.11.146.235/32"
                ],
                "description": "",
                "from_port": 4040,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 4040
              },
              {
                "cidr_blocks": [
                  "62.11.146.235/32"
                ],
                "description": "",
                "from_port": 8088,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 8088
              },
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              },
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 8443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 8443
              }
            ],
            "name": "master_security_group",
            "name_prefix": null,
            "owner_id": "015249404455",
            "revoke_rules_on_delete": true,
            "tags": {
              "name": "emr_test"
            },
            "timeouts": null,
            "vpc_id": "vpc-ebcbd791"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_default_vpc.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "slave_security_group",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:015249404455:security-group/sg-0c358a3796384d20d",
            "description": "Allow all internal traffic",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0c358a3796384d20d",
            "ingress": [
              {
                "cidr_blocks": [
                  "172.31.0.0/20"
                ],
                "description": "",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              },
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 8443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 8443
              }
            ],
            "name": "slave_security_group",
            "name_prefix": null,
            "owner_id": "015249404455",
            "revoke_rules_on_delete": true,
            "tags": {
              "name": "emr_test"
            },
            "timeouts": null,
            "vpc_id": "vpc-ebcbd791"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_default_subnet.default",
            "aws_default_vpc.default"
          ]
        }
      ]
    }
  ]
}
